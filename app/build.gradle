plugins {
    id("com.android.application")
    id("kotlin-android")
    id("com.google.dagger.hilt.android")
    id("kotlin-kapt")
}
apply from: "$rootDir/buildSrc/scripts/common_config.gradle"

android {
    namespace 'net.davidcrotty.itemcatalogue'

    defaultConfig {
        applicationId = "net.davidcrotty.itemcatalogue"
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules'
        }
    }

    buildFeatures {
        compose = true
    }
    composeOptions {
        kotlinCompilerExtensionVersion = "1.4.7"
    }

    compileOptions {
        sourceCompatibility JavaVersion.VERSION_17
        targetCompatibility JavaVersion.VERSION_17
    }
    kotlinOptions {
        jvmTarget = '17'
    }
}

kapt {
    correctErrorTypes true
}

dependencies { handler ->
    Utilities.addModules(
            handler,
            Modules.application,
            Modules.androidCommon,
            Modules.jvmTest,
            Modules.instrumentedTest
    )

    implementation "com.google.dagger:hilt-android:2.44"
    kapt "com.google.dagger:hilt-compiler:2.44"

    implementation project(":feature:detailscreen")
    implementation project(":domain:items")
    implementation project(":data")
    implementation project(":theme")

    testImplementation project(":core:unittest")

    androidTestImplementation platform("androidx.compose:compose-bom:2023.05.01")
}